<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">

		<title>Genuary23 | 4 - Intersections</title>

		<script src="../p5.js"></script>
	</head>
	<style>
		body {
			padding: 0;
			margin: 0;
			position: fixed;
			top: 0; left: 0; right: 0; bottom: 0;
			border: none;
			overflow: hidden;
		}
	</style>
	<body></body>
	<script>
		const BG_COLOR = 7, FG_COLOR_SAT = 70, FG_COLOR_LIG = 60, FG_COLOR_ALPHA = .1;

		const posX = window.innerWidth * .5, posY = window.innerHeight * .5;

		function setup( ) {
			createCanvas( posX * 2, posY * 2 );
			noLoop( );
			setStyle( );
		}

		function setStyle( ) {
			colorMode( HSL );
			noStroke( );
			blendMode( LIGHTEST );
		}

		function draw( ) {
			background( BG_COLOR );
			drawRandomRects( );
		}

		function drawRandomRects( ) {
			const n = random( 3, 24 );
			for ( let i = 0; i < n; i++ ) {
				drawRandomSymetricHoritzontalRect( );
				drawRandomSymetricVerticalRect( );
			}
		}

		function drawRandomSymetricVerticalRect( ) {
			const x = random( 0, width );
			const w = random( .1, .4 ) * width;
			setRandomFillStroke( );
			rect( x, 0, w, height );
			rect( width - x - w, 0, w, height );
		}

		function drawRandomSymetricHoritzontalRect( ) {
			const y = random( 0, height );
			const h = random( .05, .25 ) * height;
			setRandomFillStroke( );
			rect( 0, y, width, h );
			rect( 0, height - y - h, width, h );
		}

		function setRandomFillStroke( ) {
			const hue = random( 0, 360 );
			fill( hue, FG_COLOR_SAT, FG_COLOR_LIG, FG_COLOR_ALPHA );
		}
	</script>
</html>
